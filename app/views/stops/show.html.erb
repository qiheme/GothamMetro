<%= @stop.name %>

<table>
  <tr>
    <td>Arrival Time</td>
    <td>Departure Time</td>
    <td>Direction</td>
    <td>Route</td>
    <td>Sunday</td>
    <td>Monday</td>
    <td>Tuesday</td>
    <td>Wednesday</td>
    <td>Thursday</td>
    <td>Friday</td>
    <td>Saturday</td>
  </tr>
  <% @stop.stop_times.order(:arrival_time).each do |time| %>
    <tr>
    	<td id="arrival"><%= Chronic.parse(time.arrival_time).strftime("%l:%M %P") %></td>
    	<td id="departure"><%= Chronic.parse(time.departure_time).strftime("%l:%M %P") %></td>

      <% if time.trip.direction_id == "1" %>
        <td id="direction">Inbound</td>
      <% elsif time.trip.direction_id == "0" %>
        <td id="direction">Outbound</td>
      <% end %>

      <td id="route"><%= time.trip.route.long_name %></td>

      <% stop_day = Calendar.find_by(service_id: time.trip.service_id) %>
      <td id="Sunday"><%= stop_day.sunday %></td>
      <td id="Monday"><%= stop_day.monday %></td>
      <td id="Tuesday"><%= stop_day.tuesday %></td>
      <td id="Wednesday"><%= stop_day.wednesday %></td>
      <td id="Thursday"><%= stop_day.thursday %></td>
      <td id="Friday"><%= stop_day.friday %></td>
      <td id="Saturday"><%= stop_day.saturday %></td>
    </tr>
  <% end %>
</table>